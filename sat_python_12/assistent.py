# Импорты для ассистента
import pyttsx3
import webbrowser
import re
import urllib.request
import urllib.parse
from datetime import datetime, date, time


# Команды для ассистента
def say_bot(msg):
	print(msg)
	tts.say(msg)					# собирает фразы
	tts.runAndWait()				# говорит их
	
def youtube_open(command):		
	reg_ex = re.search('ютьюб (.*)', command)
	if reg_ex:
		domain = command.split("ютьюб",1)[1] 
		query_string = urllib.parse.urlencode({"search_query" : domain})
		html_content = urllib.request.urlopen("http://www.youtube.com/results?" + query_string)
		search_results = re.findall(r'href=\"\/watch\?v=(.{11})', html_content.read().decode())
		print("http://www.youtube.com/watch?v=" + search_results)
		webbrowser.open("http://www.youtube.com/watch?v={}".format(search_results[0]))
		pass	


# Фразы для ассистента	

	
# -----------Основной код программы-------------
# Настройки ассистента
tts = pyttsx3.init()				# запуск звукового движка
tts.setProperty('voice', 'ru')		# язык
tts.setProperty('rate', 200)		# скорость % (может быть )

# имя админа
NAME = input('Введите имя: ')
say_bot("Приветсвую, " + NAME)

# выполняет команды
while True:
	command = input('Введите команду/слово: ')
	if command == 'как жизнь?':
		say_bot('Йоу окей че, норм?' + NAME)
	elif command == 'как погода?':
		say_bot('Снег' + NAME)
	elif command == 'Что ты умеешь делать?':
		say_bot('Много чего' + NAME)
	elif command == 'дореми':
		say_bot('фасольлясидо' + NAME)
	elif command == 'открой браузер':
		webbrowser.open('www.youtube.com')
		say_bot('сайт открыт' + NAME)
	elif 'ютьюб' in command:
		say_bot('ютьюб открыт ' + NAME)
		#youtube_open(command)
	elif command == 'время':
		time_check = datetime.now()
		h = time_check.hour
		m = time_check.minute
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         
	else:
		say_bot('Я тебя не понял!!!' + NAME)
	
